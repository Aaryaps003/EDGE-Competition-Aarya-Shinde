<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Admin Login ‚Ä¢ Election Commission</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  :root{--ink:#0f172a;--blue:#2b7bff;--bg:#f5f8ff;--pill:#eef3ff}
  *{box-sizing:border-box} body{font-family:Segoe UI,Arial;background:var(--bg);margin:0;color:var(--ink)}
  .nav{display:flex;gap:10px;align-items:center;justify-content:space-between;padding:12px 16px;background:#fff;box-shadow:0 2px 12px rgba(0,0,0,.06);position:sticky;top:0;z-index:10}
  .brand{font-weight:700} .links a{color:#0b63ff;text-decoration:none;margin:0 6px;padding:8px 12px;background:var(--pill);border-radius:10px}
  .wrap{display:grid;place-items:center;height:calc(100vh - 64px);padding:20px}
  .card{background:#fff;border-radius:14px;padding:28px;box-shadow:0 8px 20px rgba(0,0,0,.08);min-width:320px;max-width:380px;width:100%}
  h1{margin:0 0 16px}
  input{width:100%;padding:12px;margin:8px 0;border:1px solid #dfe6ff;border-radius:10px}
  button{background:var(--blue);color:#fff;border:none;padding:12px 16px;border-radius:10px;width:100%;cursor:pointer}
  button:hover{opacity:.95}
  .msg{margin-top:10px;font-weight:600;text-align:center}
  .bad{color:#c0122a}
</style>
</head>
<body>
  <div class="nav">
    <div class="brand">üó≥Ô∏è Election Commission</div>
    <div class="links">
      <a href="vote.html">Vote</a>
      <a href="results.html">Results</a>
      <a href="map.html">Map</a>
    </div>
  </div>

  <div class="wrap">
    <div class="card">
      <h1>üîê Admin Login</h1>
      <input id="username" placeholder="Username">
      <input id="password" type="password" placeholder="Password">
      <button onclick="login()">Login</button>
      <div id="msg" class="msg"></div>
    </div>
  </div>

<script>
async function login(){
  const user = document.getElementById('username').value.trim();
  const pass = document.getElementById('password').value.trim();
  const msg = document.getElementById('msg');

  if(!user || !pass){
    msg.textContent = "‚ö†Ô∏è Enter both username & password";
    msg.className = "msg bad"; return;
  }

  const res = await fetch('/api/admin/login',{
    method:'POST',
    headers:{'Content-Type':'application/json'},
    body:JSON.stringify({username:user,password:pass})
  });

  const text = await res.text();
  if(res.ok){
    localStorage.setItem("isAdminLogged","true");
    window.location.href = "admin.html";
  } else {
    msg.textContent = text;
    msg.className = "msg bad";
  }
}
</script>
</body>
</html>
